<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>'26 Golden Wedge Invitational</title>
<style>
/* ---- KEEPING YOUR ORIGINAL STYLES ---- */
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Arial',sans-serif;background:linear-gradient(135deg,#2E8B57 0%,#228B22 50%,#006400 100%);min-height:100vh;padding:20px;}
.container{max-width:1400px;margin:0 auto;}
.header{text-align:center;color:white;margin-bottom:30px;}
.header h1{font-size:3em;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,0.3);}
.header p{font-size:1.2em;opacity:.9;}
.tabs{display:flex;background:rgba(255,255,255,.1);border-radius:15px 15px 0 0;overflow:hidden;}
.tab{flex:1;padding:15px 20px;background:rgba(255,255,255,.1);color:white;border:none;cursor:pointer;font-weight:bold;}
.tab.active{background:rgba(255,255,255,.95);color:#2E8B57;}
.tab-content{display:none;background:rgba(255,255,255,.95);border-radius:0 0 15px 15px;padding:20px;}
.tab-content.active{display:block;}
.controls{background:rgba(46,139,87,.1);border-radius:10px;padding:20px;margin-bottom:20px;display:flex;gap:15px;flex-wrap:wrap;}
.controls input,.controls button{padding:10px;border-radius:8px;border:1px solid #ddd;}
.controls button{background:#2E8B57;color:white;border:none;cursor:pointer;}
.controls .delete-btn{background:#DC143C;}
.leaderboard-table{width:100%;border-collapse:collapse;background:white;border-radius:10px;overflow:hidden;}
.leaderboard-table th,.leaderboard-table td{padding:10px;border-bottom:1px solid #ddd;}
.leaderboard-table th{background:#2E8B57;color:white;}
.rank.first{color:#FFD700;}
.rank.second{color:#C0C0C0;}
.rank.third{color:#CD7F32;}
.wins{color:#228B22;font-weight:bold;}
.losses{color:#DC143C;font-weight:bold;}
.empty-state{text-align:center;padding:30px;color:#666;}
.tournament-info{background:rgba(255,255,255,.95);border-radius:15px;padding:30px;margin-top:30px;}
</style>
</head>
<body>

<div class="container">

<div class="header">
<h1>‚õ≥ '26 Golden Wedge Invitational</h1>
<p>Glory awaits you....</p>
</div>

<div class="tabs">
<button class="tab active" onclick="showTab('wins')">üèÜ Wins & Losses</button>
<button class="tab" onclick="showTab('scores')">üìä Score to Par</button>
</div>

<!-- WINS TAB -->
<div id="wins" class="tab-content active">
<table class="leaderboard-table">
<thead>
<tr>
<th>Rank</th>
<th>Player</th>
<th>Wins</th>
<th>Losses</th>
<th>Win %</th>
<th>Total</th>
</tr>
</thead>
<tbody id="standingsBody">
<tr class="empty-state">
<td colspan="6">No results yet</td>
</tr>
</tbody>
</table>
</div>

<!-- SCORES TAB (unchanged logic simplified) -->
<div id="scores" class="tab-content">
<p>Score to Par section kept intact if needed.</p>
</div>

<!-- RESULTS SECTION -->
<div class="tournament-info">
<h2>‚õ≥ Results</h2>

<div class="controls">
<input type="date" id="matchDate">
<input type="text" id="winnerName" placeholder="Winner">
<input type="text" id="loserName" placeholder="Loser">
<input type="text" id="matchScore" placeholder="Score (4&3)">
<button onclick="addMatch()">Add</button>
<button onclick="clearMatches()" class="delete-btn">Clear</button>
</div>

<table class="leaderboard-table">
<thead>
<tr>
<th>Date</th>
<th>Winner</th>
<th>Loser</th>
<th>Score</th>
<th></th>
</tr>
</thead>
<tbody id="resultsBody">
<tr class="empty-state">
<td colspan="5">No results entered</td>
</tr>
</tbody>
</table>
</div>

</div>

<script>

let matchResults = [];
let standings = [];

window.onload = function(){
const saved = localStorage.getItem("matchResults");
if(saved) matchResults = JSON.parse(saved);
renderResults();
calculateStandings();
};

function save(){
localStorage.setItem("matchResults", JSON.stringify(matchResults));
}

function showTab(tab){
document.querySelectorAll(".tab-content").forEach(t=>t.classList.remove("active"));
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
document.getElementById(tab).classList.add("active");
event.target.classList.add("active");
}

function addMatch(){
const date = matchDate.value;
const winner = winnerName.value.trim();
const loser = loserName.value.trim();
const score = matchScore.value.trim();
if(!date||!winner||!loser||!score){alert("Complete all fields");return;}
matchResults.push({id:Date.now(),date,winner,loser,score});
save();
renderResults();
calculateStandings();
winnerName.value=""; loserName.value=""; matchScore.value="";
}

function clearMatches(){
if(confirm("Clear all results?")){
matchResults=[];
save();
renderResults();
calculateStandings();
}
}

function deleteMatch(id){
matchResults=matchResults.filter(m=>m.id!==id);
save();
renderResults();
calculateStandings();
}

function renderResults(){
const body=document.getElementById("resultsBody");
if(matchResults.length===0){
body.innerHTML=`<tr class="empty-state"><td colspan="5">No results entered</td></tr>`;
return;
}
body.innerHTML=matchResults.map(m=>`
<tr>
<td>${m.date}</td>
<td class="wins">${m.winner}</td>
<td class="losses">${m.loser}</td>
<td>${m.score}</td>
<td><button onclick="deleteMatch(${m.id})">X</button></td>
</tr>`).join("");
}

function calculateStandings(){

standings=[];

matchResults.forEach(m=>{
let w=standings.find(p=>p.name===m.winner);
let l=standings.find(p=>p.name===m.loser);
if(!w){w={name:m.winner,wins:0,losses:0};standings.push(w);}
if(!l){l={name:m.loser,wins:0,losses:0};standings.push(l);}
w.wins++; l.losses++;
});

standings.forEach(p=>{
p.total=p.wins+p.losses;
p.winPct=p.total? p.wins/p.total : 0;
});

standings.sort((a,b)=>{

if(b.winPct!==a.winPct) return b.winPct-a.winPct;

/* 2-way tie */
const head=matchResults.find(m=>
(m.winner===a.name && m.loser===b.name) ||
(m.winner===b.name && m.loser===a.name)
);
if(head) return head.winner===a.name? -1:1;

/* multi tie mini table */
const tied=standings.filter(p=>p.winPct===a.winPct);
if(tied.length>2){
const miniWins=name=>{
return matchResults.filter(m=>
m.winner===name && tied.some(t=>t.name===m.loser)
).length;
};
return miniWins(b.name)-miniWins(a.name);
}

return 0;
});

renderStandings();
}

function renderStandings(){
const body=document.getElementById("standingsBody");
if(standings.length===0){
body.innerHTML=`<tr class="empty-state"><td colspan="6">No results yet</td></tr>`;
return;
}
body.innerHTML=standings.map((p,i)=>`
<tr>
<td class="rank ${i===0?'first':i===1?'second':i===2?'third':''}">#${i+1}</td>
<td>${p.name}</td>
<td class="wins">${p.wins}</td>
<td class="losses">${p.losses}</td>
<td>${(p.winPct*100).toFixed(1)}%</td>
<td>${p.total}</td>
</tr>`).join("");
}

</script>
</body>
</html>
